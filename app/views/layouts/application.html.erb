<!DOCTYPE html>
<html>
  <head>
    <title>FourEconomy</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400&display=swap">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://github.com/redmarverick/blog_app/blob/DEV/fonts/Proxima-Nova-Light.otf">
    <link rel="stylesheet" type="text/css" href="https://github.com/redmarverick/blog_app/blob/DEV/fonts/Proxima-Nova-Bold.otf">
    <style>.pnlight {font-family: 'Proxima Nova Light', sans-serif;} .pnbold {font-family: 'Proxima Nova Bold', sans-serif;}</style>
  </head>
    <%= javascript_importmap_tags %>
  </head>

  <body class="pnlight">
  <% unless @is_splash_index %>
    <%= render partial: 'layouts/navs' %>
  <% end %>
    <%= yield %>
  <script async>
      document.addEventListener('DOMContentLoaded', function() {
          const submitFormButton = document.getElementById('submitFormButton');
          if (submitFormButton) {
              submitFormButton.addEventListener('click', function() {
                  const form = document.querySelector('form');
                  form.submit();
              });
          } else {
              console.error('Button element not found');
          }
      });

      document.addEventListener('DOMContentLoaded', function() {
          const body = document.body; // Get a reference to the body element

          // open
          const burger = document.querySelectorAll('.navbar-burger');
          const menu = document.querySelectorAll('.navbar-menu');

          if (burger.length && menu.length) {
              for (var i = 0; i < burger.length; i++) {
                  burger[i].addEventListener('click', function() {
                      for (var j = 0; j < menu.length; j++) {
                          menu[j].classList.toggle('hidden');
                      }
                      body.classList.toggle('overflow-hidden'); // Toggle overflow-hidden class on body
                  });
              }
          }

          // close
          const close = document.querySelectorAll('.navbar-close');
          const backdrop = document.querySelectorAll('.navbar-backdrop');

          if (close.length) {
              for (var i = 0; i < close.length; i++) {
                  close[i].addEventListener('click', function() {
                      for (var j = 0; j < menu.length; j++) {
                          menu[j].classList.toggle('hidden');
                      }
                      body.classList.toggle('overflow-hidden'); // Toggle overflow-hidden class on body
                  });
              }
          }

          if (backdrop.length) {
              for (var i = 0; i < backdrop.length; i++) {
                  backdrop[i].addEventListener('click', function() {
                      for (var j = 0; j < menu.length; j++) {
                          menu[j].classList.toggle('hidden');
                      }
                      body.classList.toggle('overflow-hidden'); // Toggle overflow-hidden class on body
                  });
              }
          }
      });


  </script>
  </body>
</html>
